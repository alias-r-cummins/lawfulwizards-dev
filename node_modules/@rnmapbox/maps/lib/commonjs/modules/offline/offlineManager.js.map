{"version":3,"names":["_reactNative","require","_utils","_OfflineCreatePackOptions","_interopRequireDefault","_OfflinePack","obj","__esModule","default","MGLModule","NativeModules","MapboxOfflineManager","MGLOfflineModule","OfflineModuleEventEmitter","NativeEventEmitter","exports","OfflineManager","constructor","_hasInitialized","_offlinePacks","_progressListeners","_errorListeners","_onProgress","bind","_onError","subscriptionProgress","subscriptionError","createPack","options","progressListener","errorListener","_initialize","packOptions","OfflineCreatePackOptions","name","Error","subscribe","nativeOfflinePack","OfflinePack","invalidatePack","offlinePack","deletePack","invalidateAmbientCache","MapboxV10","console","warn","clearAmbientCache","migrateOfflineCache","setMaximumAmbientCacheSize","size","resetDatabase","getPacks","Object","keys","map","getPack","mergeOfflineRegions","path","setTileCountLimit","limit","setProgressEventThrottle","throttleValue","packName","totalProgressListeners","length","isFunction","addListener","OfflineCallbackName","Progress","totalErrorListeners","isAndroid","setPackObserver","e","log","unsubscribe","remove","nativeOfflinePacks","state","payload","_hasListeners","pack","OfflinePackDownloadState","Complete","listenerMap","isUndefined","offlineManager","_default"],"sourceRoot":"../../../../src","sources":["modules/offline/offlineManager.ts"],"mappings":"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"}