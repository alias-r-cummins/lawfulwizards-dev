{"version":3,"names":["MapboxGL","NativeModules","MGLModule","MapboxGLOfflineManager","MGLOfflineModule","OfflineModuleEventEmitter","NativeEventEmitter","OfflineManager","constructor","_hasInitialized","_offlinePacks","_progressListeners","_errorListeners","_onProgress","bind","_onError","subscriptionProgress","subscriptionError","createPack","options","progressListener","errorListener","_initialize","packOptions","OfflineCreatePackOptions","name","Error","subscribe","nativeOfflinePack","OfflinePack","invalidatePack","offlinePack","deletePack","invalidateAmbientCache","clearAmbientCache","migrateOfflineCache","setMaximumAmbientCacheSize","size","resetDatabase","getPacks","Object","keys","map","getPack","mergeOfflineRegions","path","setTileCountLimit","limit","setProgressEventThrottle","throttleValue","packName","totalProgressListeners","length","isFunction","addListener","OfflineCallbackName","Progress","totalErrorListeners","isAndroid","setPackObserver","e","console","log","unsubscribe","remove","nativeOfflinePacks","state","payload","_hasListeners","pack","OfflinePackDownloadState","Complete","listenerMap","isUndefined","offlineManager"],"sourceRoot":"../../javascript","sources":["offlineManager.js"],"mappings":"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"}