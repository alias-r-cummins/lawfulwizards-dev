{"version":3,"names":["NativeModules","NativeEventEmitter","isUndefined","isFunction","isAndroid","OfflineCreatePackOptions","OfflinePack","MapboxGL","MGLModule","MapboxGLOfflineManager","MGLOfflineModule","OfflineModuleEventEmitter","OfflineManager","constructor","_hasInitialized","_offlinePacks","_progressListeners","_errorListeners","_onProgress","bind","_onError","subscriptionProgress","subscriptionError","createPack","options","progressListener","errorListener","_initialize","packOptions","name","Error","subscribe","nativeOfflinePack","invalidatePack","offlinePack","deletePack","invalidateAmbientCache","clearAmbientCache","migrateOfflineCache","setMaximumAmbientCacheSize","size","resetDatabase","getPacks","Object","keys","map","getPack","mergeOfflineRegions","path","setTileCountLimit","limit","setProgressEventThrottle","throttleValue","packName","totalProgressListeners","length","addListener","OfflineCallbackName","Progress","totalErrorListeners","setPackObserver","e","console","log","unsubscribe","remove","nativeOfflinePacks","state","payload","_hasListeners","pack","OfflinePackDownloadState","Complete","listenerMap","offlineManager"],"sourceRoot":"../../javascript","sources":["offlineManager.js"],"mappings":"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A;AACA;AACA;AACA;AACA;EACE,MAAMC,0BAA0B,CAACC,IAAI,EAAE;IACrC,MAAM,IAAI,CAACb,WAAW,EAAE;IACxB,MAAMlB,sBAAsB,CAAC8B,0BAA0B,CAACC,IAAI,CAAC;EAC/D;;EAEA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;EACE,MAAMC,aAAa,GAAG;IACpB,MAAM,IAAI,CAACd,WAAW,EAAE;IACxB,MAAMlB,sBAAsB,CAACgC,aAAa,EAAE;EAC9C;;EAEA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;EACE,MAAMC,QAAQ,GAAG;IACf,MAAM,IAAI,CAACf,WAAW,EAAE;IACxB,OAAOgB,MAAM,CAACC,IAAI,CAAC,IAAI,CAAC7B,aAAa,CAAC,CAAC8B,GAAG,CACvChB,IAAI,IAAK,IAAI,CAACd,aAAa,CAACc,IAAI,CAAC,CACnC;EACH;;EAEA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACE,MAAMiB,OAAO,CAACjB,IAAI,EAAE;IAClB,MAAM,IAAI,CAACF,WAAW,EAAE;IACxB,OAAO,IAAI,CAACZ,aAAa,CAACc,IAAI,CAAC;EACjC;;EAEA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACE,MAAMkB,mBAAmB,CAACC,IAAI,EAAE;IAC9B,MAAM,IAAI,CAACrB,WAAW,EAAE;IACxB,OAAOlB,sBAAsB,CAACsC,mBAAmB,CAACC,IAAI,CAAC;EACzD;;EAEA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACEC,iBAAiB,CAACC,KAAK,EAAE;IACvBzC,sBAAsB,CAACwC,iBAAiB,CAACC,KAAK,CAAC;EACjD;;EAEA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACEC,wBAAwB,CAACC,aAAa,EAAE;IACtC3C,sBAAsB,CAAC0C,wBAAwB,CAACC,aAAa,CAAC;EAChE;;EAEA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACE,MAAMrB,SAAS,CAACsB,QAAQ,EAAE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"}